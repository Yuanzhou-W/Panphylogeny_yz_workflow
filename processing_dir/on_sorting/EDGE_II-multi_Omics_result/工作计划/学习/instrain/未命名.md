# Installation
Anaconda
```
conda install -c conda-forge -c bioconda -c defaults instrain
```

# Pre-built genome database

An established set of public genomes can be downloaded for your inStrain analysis at the [following link - https://doi.org/10.5281/zenodo.4441269](https://doi.org/10.5281/zenodo.4441269). See Tutorial #2 in [Tutorial](https://instrain.readthedocs.io/en/latest/tutorial.html) for usage instructions.

# Docker image

A Docker image with inStrain and dependencies already installed is available on Docker Hub at [mattolm/instrain](https://hub.docker.com/repository/docker/mattolm/instrain). This image also has a wrapper script in it to make it easier to use inStrain with AWS. See the [docker folder of the GitHub page](https://github.com/MrOlm/inStrain/tree/v1.3.0/docker) for use instructions.

# Glossary & FAQ
1. ANI - 平均核苷酸同一性。
   两个基因组或.fasta文件之间的平均核苷酸距离。如果两个基因组每100个碱基对有一个差异，那么ANI将为99％。

2. conANI - 共识ANI(ConsensusANI)
   基于共识序列计算的平均核苷酸同一性值。在其他程序中，通常将其报告为“ANI”。基因组上的每个位置均由最常见的等位基因（也称为共有等位基因）代表，次要的等位基因则被忽略。

3. popANI - 群体ANI(PopulationANI)
   一个新术语，用于描述inStrain执行的同时考虑主要和次要等位基因的独特类型的ANI计算。如果两个种群在一个基因座上共享任何等位基因，包括次要等位基因，则在计算popANI时不算作差异。
   举一个例子最容易描述：
	   考虑一个基因组位置，其中参考序列是“A”，并且100个reads被比对到该位置。在这100个map的reads中，有60个具有“C”，而40个具有“A”。在这个例子中，这些reads在该位置与参考基因组共享一个次要等位基因，但是共有等位基因（最常见的等位基因）是不同的。因此，该位置将算作conANI计算中的差异（因为共有等位基因不同），并且不会算作popANI计算中的差异（因为参考序列作为等位基因存在于reads中）。

5. 代表性基因组（RGs）
   是用于表示某些分类群的基因组。
   例如，您可能具有一系列代表性基因组来代表大肠杆菌的每个进化枝（每个进化枝一个基因组），或者您可能具有一个代表整个大肠杆菌物种的代表性基因组（在这种情况下，它将是一个物种代表性基因组（SRG）。基于inStrain的分析的基本单位是代表性基因组，它们通常是使用dRep程序生成的 #drep

7. 物种代表基因组
   物种代表性基因组（SRG）是用于代表整个单个微生物物种的代表性基因组。

6. coverage
   测序深度的量度。将覆盖范围计算为map到某个区域的平均reads次数。如果scaffold中一半的碱基上有5个reads，而另一半上有10个读数，则scaffold的覆盖范围将是7.5。

7. SNV
   单核苷酸变体。种群中某个派系中存在的单个核苷酸变化。也可以描述为存在多个等位基因的基因组位点。我们使用简单的模型识别并调用SNV，以将其与错误区分开，更重要的是，根据我们的经验，仔细进行reads的匹配和过滤，以确保变体（和包含它们的reads）确实来自所存在的物种。而不是来自元基因组中的另一个物种（发生这种情况时，我们称其为“mismapping”）。请注意，SNV是指阅读集中的遗传变异。

8. sns  
   单核苷酸取代。在两个种群之间具有固定差异的单个核苷酸变化。如果参考基因组在某个位置有一个“A”，但所有reads在那个位置都有一个“C”，那将是一个SNS（如果一半的reads段具有一个“ A”，而一半的reads段具有一个“ A”），“C”，即SNV）。

9. snp  
   单核苷酸多态性。根据我们的经验，此术语对不同的人意味着不同的事物，因此我们尝试避免完全使用它（而不是指SNS，SNV和转移站点）。

  
10. dN/dS

对基因中的突变集偏向同义（S）突变或非同义（N）突变的一种度量。基于相对于参考基因组的突变来计算dN / dS。dN / dS> 1表示偏向N个突变，表明该基因处于主动选择突变状态。dN / dS < 1表示偏向于S突变，表明该基因处于稳定选择状态，无法突变。dN/dS=1表示N和S突变处于随机突变位置所期望的速率，可能表明该基因无功能。

11. pN/pS
与dN/dS非常相似，但在存在至少两个等位基因的位置进行计算，而不是相对于参考基因组进行计算。

12.linkage
衡量两个不同站点一起被继承的可能性的度量。如果两个等位基因出现在同一reads上，则称它们为“linkage”，这意味着它们在同一基因组上一起被发现。当基因座不同等位基因的关联频率高于或低于基因座独立且随机关联时的预期频率时，则称基因座处于“连锁不平衡”状态。在微生物种群遗传学的背景下，连锁衰变通常被用作检测微生物种群成员之间重组的方法。InStrain使用度量r2（r平方）和D'（D素数）来度量链接。

13. mismapped read  
错误地比对到基因组的reads。InStrain通过查看map到基因组的reads对种群进行了分析。这些reads很短，有时可能是从一种微生物种群比对到另一种微生物的代表性基因组（例如，如果它们具有同源性）。有几种技术可用于将错误比对减少到可能的最低程度。

14. multi-mapped  
一次reads可以很好地比对到.fasta文件中的多个不同位置。大多数比对软件会随机选择一个位置来放置多不低reads。可以使用多种技术将多比对到reads减少到最低程度，包括将最小MAPQ截止值增加到> 2（这将完全消除它们）。

15. coverage
测序深度的量度。我们将覆盖范围计算为比对到某个区域的平均reads次数。如果scaffold中一半的碱基上有5个reads，而另一半上有10个reads，则scaffold的覆盖范围将是7.5。

16. mapQ分数
MapQ分数是对reads与特定位置的对齐程度的度量。它们被分配给bowtie2匹配的每个reads，但是如何生成它们的细节令人难以置信。MapQ分数0和1具有特殊含义：如果reads内容匹配到.fasta文件上的多个不同位置的效果相同，则其MapQ分数始终为0或1。